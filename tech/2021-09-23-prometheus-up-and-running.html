<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì Prometheus Up and Running</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Microsoft Clarity Analytics -->
  <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "3wadqgw95m");
  </script>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-1956250892185343" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
  <!-- Twitter button -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header">
      <script async src="https://cse.google.com/cse.js?cx=69d6be64abfa91ed2"> </script>
      <div class="gcse-search"></div>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">Prometheus Up and Running</h1>
<p class="date">üìÖ 2021-Sep-23 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üè∑Ô∏è <a href='index.html#book'>book</a> ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<p>I recently noticed that the <strong>Triton Inference Server</strong> reports <a href="https://github.com/triton-inference-server/server/blob/bb7c6dc6e606a0a30d2448cdf802e708aeb10b62/docs/metrics.md">metrics</a> in the Prometheus format and decided to learn more about this tool. I picked up <strong>Prometheus Up and Running</strong> written by one of its developers named <strong>Brian Brazil</strong>.</p>
<p><a href="https://prometheus.io/"><strong>Prometheus</strong></a> is an infrastructure and application performance monitoring tool for use in datacenters running web applications or databases. Like classic Unix tools, it has been designed to focus only on monitoring and nothing else. It even ships as a single static binary and it ingests YAML text files to read its configuration. It is based on the pull model (instead of push) and so will <em>scrape</em> the applications or systems you want to monitor at a given frequency.</p>
<p>Prometheus is popular, so most well-known applications and databases already support exporting their runtime performance metrics to Prometheus. For applications which don‚Äôt, Prometheus provides client libraries and runtimes in every conceivable language, so that you <em>instrument</em> your custom application with the Prometheus API.</p>
<p><em>Exposition</em> is how Prometheus reads the metrics from your application. Again for most applications there is support of their metrics. For custom applications, the simple text format of the Prometheus metrics are demonstrated with examples. To enhance the metrics, <em>labels</em> can also be used to annotate further about subtypes of metrics or system information. While online and offline systems can work with the pull model of Prometheus, batch systems which run at preset times cannot. There is a description of how to support such batch systems using the Pushgateway.</p>
<p>The author makes the singular vision and focus of Prometheus very clear. For example, Prometheus does not even try to do dashboards. If you need to look at the metrics on dashboards, we are shown how to use Grafana to hook up to Prometheus to do that. Several later chapters delve into the details of the PromQL query language, how to set alerts, and how to deploy Prometheus in a datacenter.</p>
<p>The book shows the steps to try out Prometheus with various simple custom applications and also with well-known applications (like Kubernetes). The examples can be run on a single machine, which is convenient to try things out in this age of cloud nodes. Since the author is also a core developer of this tool, he succeeds in giving a good mental model of its architecture, how to think about it, what it is good at and what it‚Äôs not.</p>
<p><strong>Rating:</strong> 3/4</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
¬© 2022 Ashwin Nanjappa
‚Ä¢
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
‚Ä¢
<a href="https://twitter.com/codeyarns" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @codeyarns</a>
‚Ä¢
<a href="mailto:codeyarns@gmail.com" style="text-decoration: none; font-size: x-large;">üìß</a>
</div>
</div>

</body>
</html>
