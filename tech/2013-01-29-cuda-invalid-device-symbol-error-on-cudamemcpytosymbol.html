<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns – CUDA invalid device symbol error on cudaMemcpyToSymbol</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311697-1');
  </script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‍👨‍💻</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ❖ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header">
      <script async src="https://cse.google.com/cse.js?cx=69d6be64abfa91ed2"> </script>
      <div class="gcse-search"></div>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">CUDA invalid device symbol error on cudaMemcpyToSymbol</h1>
<p class="date">📅 2013-Jan-29 ⬩ ✍️ Ashwin Nanjappa ⬩ 🏷️ <a href='index.html#cuda'>cuda</a>, <a href='index.html#error'>error</a> ⬩ 📚 <a href="index.html">Archive</a></p>
</header>
<p><strong>Problem</strong></p>
<p>In your <strong>CUDA</strong> code, you have a <strong>cudaMemcpyToSymbol</strong> call of this form:</p>
<pre><code>cudaMemcpyToSymbol( &quot;deviceVar&quot;, hostVar, hostVarSize, 0, cudaMemcpyHostToDevice );</code></pre>
<p>This gives a runtime error of <strong>invalid device symbol</strong>.</p>
<p><strong>Solution</strong></p>
<p>Check if you are using CUDA 5.0 or later. The technique of passing the device symbol by using its name string is gone in CUDA 5.0. Instead, just remove the double quotes to specify the device variable itself like this:</p>
<pre><code>cudaMemcpyToSymbol( deviceVar, &amp;hostVar, hostVarSize, 0, cudaMemcpyHostToDevice );</code></pre>
<p><strong>Tried with:</strong> CUDA 5.0</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
© 2024 Ashwin Nanjappa
•
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
•
<a href="https://mastodon.social/@codeyarns">🐘 Mastodon</a>
•
<a href="mailto:codeyarns@gmail.com">📧 Email</a>
</div>
</div>

</body>
</html>
