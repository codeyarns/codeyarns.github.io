<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Ashwin Nanjappa" />
  <title>OpenCV: Could not find a writer error</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
</head>
<body>
<div id="header">
<h1 class="title">OpenCV: Could not find a writer error</h1>
<h2 class="author">Ashwin Nanjappa</h2>
<h3 class="date">2014-08-07 04:15:24+00:00</h3>
</div>
<h1 id="problem">Problem</h1>
<p>I had this line of code in a program that uses OpenCV to write an image buffer to a PNG file:</p>
<pre><code>cv::imwrite(&quot;foo.png&quot;, foo_mat);</code></pre>
<p>I was using Visual Studio 2013 to compile and run this file. But, on running I got this error:</p>
<pre><code>opencvmoduleshighguisrcloadsave.cpp:276: error: (-2) could not find a writer for the specified extension</code></pre>
<h1 id="solution">Solution</h1>
<p>I have found that there are two reasons that this can be caused.</p>
<p>The most logical reason is that OpenCV was compiled with the PNG write feature (or any other format) left out. In this case, you may have to get the OpenCV source code and compile it, making sure you choose to enable <code>WITH_PNG</code> or similar option enabled in CMake.</p>
<p>Surprisingly, I found that this error can also occur when the OpenCV library you are using has PNG compiled in. However, you may be linking a OpenCV release library (or DLL) with a compilation being done in Debug mode (or vice versa). Ensure that you are using Debug version of the library files in Debug mode and Release files in Release mode. I found that this resolved the error when I got it on Windows! :-)</p>
<p><strong>Tried with:</strong> OpenCV 2.4.9, Visual Studio 2013 and Windows 7 x64</p>
</body>
</html>
