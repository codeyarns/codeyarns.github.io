<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns â€“ OpenCV: Could not find a writer error</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.github.io/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Site Search -->
  <script async src="https://cse.google.com/cse.js?cx=003521915278168649297:cryrlg7hahe">
  </script>
</head>
<body>
<table style="width: 100%;">
    <tr>
        <td>
            <a href=".." class="header">Code Yarns &#128187;</a>
        </td>
        <td>
            <div class="gcse-search"></div>
        </td>
    </tr>
</table>
<hr />
<header>
<h1 class="title">OpenCV: Could not find a writer error</h1>
<p class="date">(First posted on: 2014-08-07 04:15:24+00:00)</p>
</header>
<h2 id="problem">Problem</h2>
<p>I had this line of code in a program that uses OpenCV to write an image buffer to a PNG file:</p>
<pre><code>cv::imwrite(&quot;foo.png&quot;, foo_mat);</code></pre>
<p>I was using Visual Studio 2013 to compile and run this file. But, on running I got this error:</p>
<pre><code>opencvmoduleshighguisrcloadsave.cpp:276: error: (-2) could not find a writer for the specified extension</code></pre>
<h2 id="solution">Solution</h2>
<p>I have found that there are two reasons that this can be caused.</p>
<p>The most logical reason is that OpenCV was compiled with the PNG write feature (or any other format) left out. In this case, you may have to get the OpenCV source code and compile it, making sure you choose to enable <code>WITH_PNG</code> or similar option enabled in CMake.</p>
<p>Surprisingly, I found that this error can also occur when the OpenCV library you are using has PNG compiled in. However, you may be linking a OpenCV release library (or DLL) with a compilation being done in Debug mode (or vice versa). Ensure that you are using Debug version of the library files in Debug mode and Release files in Release mode. I found that this resolved the error when I got it on Windows! :-)</p>
<p><strong>Tried with:</strong> OpenCV 2.4.9, Visual Studio 2013 and Windows 7 x64</p>
<hr />
<p><a href="rss.xml">RSS</a> - <a href="mailto:codeyarns@gmail.com">Contact</a></p>
</body>
</html>
