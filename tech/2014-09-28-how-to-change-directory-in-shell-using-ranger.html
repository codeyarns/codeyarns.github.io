<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns – How to change directory in shell using Ranger</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311697-1');
  </script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‍👨‍💻</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ❖ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header">
      <script async src="https://cse.google.com/cse.js?cx=69d6be64abfa91ed2"> </script>
      <div class="gcse-search"></div>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">How to change directory in shell using Ranger</h1>
<p class="date">📅 2014-Sep-28 ⬩ ✍️ Ashwin Nanjappa ⬩ 🏷️ <a href='index.html#bash'>bash</a>, <a href='index.html#cd'>cd</a>, <a href='index.html#fish'>fish</a>, <a href='index.html#ranger'>ranger</a> ⬩ 📚 <a href="index.html">Archive</a></p>
</header>
<p>One of the uses of Ranger can be to conveniently change to a directory in the shell that launched Ranger. To do this, we use the <code>--choosedir</code> option of Ranger. Pass this the name of a file and when Ranger is closed it will write the directory it was in to that file. You can then read the contents of this file in your shell to change to that location.</p>
<p>For Bash, a function that can do this is provided in <a href="https://github.com/hut/ranger/blob/master/doc/examples/bash_automatic_cd.sh">bash_automatic_cd.sh</a> in the Ranger source code.</p>
<p>For Fish, I have written a similar function that you can add to your <code>~/.config/fish/config.fish</code>:</p>
<pre><code># Add this to your ~/.config/fish/config.fish
function ranger-cd
    set tmpfile &quot;/tmp/pwd-from-ranger&quot;
    ranger --choosedir=$tmpfile $argv
    set rangerpwd (cat $tmpfile)
    if test &quot;$PWD&quot; != $rangerpwd
        cd $rangerpwd
    end
end</code></pre>
<p>To use Ranger like this, invoke it at the shell as <code>ranger-cd</code>. When you quit Ranger, fish will change its current directory to that in Ranger.</p>
<p><strong>Tried with:</strong> Ranger 1.6.1, Fish 2.0.0 and Ubuntu 14.04</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
© 2023 Ashwin Nanjappa
•
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
•
<a href="https://mastodon.social/@codeyarns">🐘 Mastodon</a>
•
<a href="mailto:codeyarns@gmail.com">📧 Email</a>
</div>
</div>

</body>
</html>
