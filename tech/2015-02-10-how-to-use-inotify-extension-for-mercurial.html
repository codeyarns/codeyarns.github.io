<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns â€“ How to use inotify extension for Mercurial</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
</head>

<body>

<div class="contentbox">
<!-- BEGIN before body -->

<!-- Website title -->
<div class="header">
    <a href=".." class="header">Code Yarns â€ğŸ‘¨â€ğŸ’»</a>
</div>

<!-- Blog links -->
<div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> â– <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
</div>

<!-- Search box -->
<br />
<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

<!-- END before body -->
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">How to use inotify extension for Mercurial</h1>
<p class="date">ğŸ“… 2015-Feb-10 â¬© âœï¸ Ashwin Nanjappa â¬© ğŸ·ï¸ <a href='index.html#hgwatchman'>hgwatchman</a>, <a href='index.html#inotify'>inotify</a>, <a href='index.html#mercurial'>mercurial</a> â¬© ğŸ“š <a href="index.html">Archive</a></p>
</header>
<p><code>hg status</code> is the slowest command in
<strong>Mercurial</strong> and can take several seconds on repositories
with thousands of files. This is because it needs to check every single
file and directory in your repository to see if it has changed. One
method to speed up this command is to use the <a
href="http://mercurial.selenic.com/wiki/InotifyExtension"><strong>inotify</strong></a>
extension for Mercurial.</p>
<p><strong>Note:</strong> This extension is reported to be buggy and
using the alternate <strong>hgwatchman</strong> extension is
recommended. <strong>Note:</strong> This extension only works in
Mercurial 2.x. It has been explicitly <a
href="http://www.selenic.com/repo/hg/rev/352abbb0be88">disabled</a> in
Mercurial 3.x and will not work.</p>
<p>This extension ships with the <code>mercurial-common</code> package
and so it will already be installed on your system if you have
Mercurial. It relies on the <code>inotify</code> subsystem of the Linux
kernel and any kernel later than 2.6.13 will have it. It uses the
filesystem to watch for changes and reports these to applications. Using
this Mercurial can check the status of gigantic repositories
quickly.</p>
<p>To enable this extension, just add these lines to your
<code>hgrc</code>:</p>
<pre><code>[extensions]
inotify =</code></pre>
<p>That is it! I noticed a speedup on a large repository with 500K
files, but it was not as much as I wanted.</p>
<p><strong>Tried with:</strong> Mercurial 2.8.2, Linux 3.13.0 and Ubuntu
14.04</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
Â© 2026 Ashwin Nanjappa
â€¢
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
â€¢
<a href="https://mastodon.social/@codeyarns">ğŸ˜ Mastodon</a>
â€¢
<a href="https://bsky.app/profile/codeyarns.bsky.social">ğŸ¦‹ Bluesky</a>
â€¢
<a href="mailto:codeyarns@gmail.com">ğŸ“§ Email</a>
</div>
</div>

</body>
</html>
