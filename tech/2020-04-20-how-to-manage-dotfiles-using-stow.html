<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì How to manage dotfiles using stow</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
</head>

<body>

<div class="contentbox">
<!-- BEGIN before body -->

<!-- Website title -->
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
</div>

<!-- Blog links -->
<div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
</div>

<!-- Search box -->
<br />
<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

<!-- END before body -->
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">How to manage dotfiles using stow</h1>
<p class="date">üìÖ 2020-Apr-20 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üè∑Ô∏è <a href='index.html#dotfiles'>dotfiles</a>, <a href='index.html#stow'>stow</a> ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<h2 id="problem">Problem</h2>
<p>Configuration and settings of my shell, Vim editor and of lots of
other applications are stored as <strong>dotfiles</strong>. These
dotfiles need to be located at my home directory (<code>~/.bashrc</code>
for example) or at certain subdirectories inside it
(<code>~/.config/fish/functions/fish_prompt.fish</code> for example).
How do I update, replicate and manage all these dotfiles across multiple
computers easily?</p>
<h2 id="solution">Solution</h2>
<p>A good solution to replicate and update these dotfiles across
multiple computers is to check in all of them into a <strong>single Git
repository</strong>. This allows me to clone the repo on any computer
and update changes from one computer to all other computers.</p>
<p>Since we are managing dotfiles that will end up being at the home
directory and its subdirectories, the Git repo would need to be the home
directory itself ‚Äì but this is a terrible solution!</p>
<p>What I would like is to have a Git repo that I can place anywhere I
want. It would contain dotfiles in subdirectories inside the Git repo
just as if they were in the home directory. What I would then need is a
simple tool or script to copy or symlink these dotfiles to the actual
locations in the home directory.</p>
<p>And this is exactly what the tool <strong>stow</strong> does.</p>
<p>To install on Linux:</p>
<pre><code>$ sudo apt install stow</code></pre>
<p>To install on MacOS:</p>
<pre><code>$ brew install stow</code></pre>
<p>Not only can stow do the above, it can do one better ‚Äì it allows me
to store the dotfiles of each tool into its own subdirectory. This makes
managing dotfiles far more easier.</p>
<p>For example, I can store the Fish shell prompt file at
<code>~/some/path/git_dotfiles/fish_dotfiles/.config/fish/functions/fish_prompt.fish</code>.
And then I can ask stow to create a symlink at
<code>~/.config/fish/functions/fish_prompt.fish</code> pointing to this
file by running a command at the root of the Git repo directory:
<code>stow --restow -v -t $HOME fish_dotfiles</code>.</p>
<p>So what I have ended up having is dotfiles for each of my tools in
their own subdirectories in the Git repo and then I run one command to
create symlinks of their dotfiles in the home directory:</p>
<pre><code>$ stow --restow -v -t $HOME bash_dotfiles fish_dotfiles ssh_dotfiles vim_dotfiles</code></pre>
<p><strong>Tried with:</strong> stow 2.2.2 and Ubuntu 18.04</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
¬© 2026 Ashwin Nanjappa
‚Ä¢
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
‚Ä¢
<a href="https://mastodon.social/@codeyarns">üêò Mastodon</a>
‚Ä¢
<a href="https://bsky.app/profile/codeyarns.bsky.social">ü¶ã Bluesky</a>
‚Ä¢
<a href="mailto:codeyarns@gmail.com">üìß Email</a>
</div>
</div>

</body>
</html>
