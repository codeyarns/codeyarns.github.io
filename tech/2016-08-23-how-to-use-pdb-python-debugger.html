<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Ashwin Nanjappa" />
  <title>Code Yarns â€“ How to use PDB Python debugger</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- CSS styles -->
  <style>
  p.caption {
      text-align: center;
  }
  img {
      max-width: 90%;
      display: block;
      margin: 0 auto;
  }
  </style>
</head>
<body>
<a href="..">Code Yarns</a> / <a href="index.html">Tech Blog</a>
<hr />
<div id="header">
<h1 class="title">How to use PDB Python debugger</h1>
<h3 class="date">2016-08-23 00:41:22+00:00</h3>
</div>
<p>When the <strong>Python</strong> interpreter encounters an error or exceptional condition while running your code, it quits the program and prints a stack trace. I typically would like to inspect the stack at the point of error to figure out the cause of it. It would be nice to print out some of the local variables you suspect at that point, walk up the stack frames to the calling functions and inspect some of their variables too. All of this is easily possible in Python by using the <strong>Python debugger</strong> module!</p>
<ul>
<li>You can run your script with the <code>pdb</code> module using any one of these commands:</li>
</ul>
<pre><code>$ pdb my_script.py

$ python -m pdb my_script.py

$ pdb3 my_script.py

$ python3 -m pdb my_script.py</code></pre>
<p>When run explicitly like this, PDB will stop at the first function.</p>
<ul>
<li>Alternatively, you can make the Python interpreter to invoke the debugger and stop at a line by adding to the code and running that script:</li>
</ul>
<pre><code>import pdb; pdb.set_trace()</code></pre>
<ul>
<li><p>Once your program has stopped, you can add more breakpoints, step through the code and inspect variables. For the entire list of commands available at the debugger, see <a href="https://docs.python.org/3/library/pdb.html">PDB documentation</a>. You will notice that they are similar (but not the same) as GDB commands.</p></li>
<li><p>Some of the most common commands are: <code>b</code> to set breakpoints, <code>c</code> to continue execution, <code>w</code> to inspect the stack trace, <code>u</code> and <code>d</code> to move up and down the call stack.</p></li>
<li><p>To move through code, <code>s</code> to step into functions, <code>n</code> to execute the next statement and <code>return</code> to return from methods.</p></li>
<li><p>To print out variables or values, use the <code>p</code> command. For example:</p></li>
</ul>
<pre><code>p foobar
p type(foobar)</code></pre>
<ul>
<li><p>You can even execute statements that assign to new or existing variables and call methods at the debugger prompt.</p></li>
<li><p>If you need tab completion, colorful syntax highlighting and other interactive features, then I recommend using <a href="https://pypi.python.org/pypi/ipdb"><strong>IPDB</strong></a>. It is a drop-in replacement for pdb.</p></li>
</ul>
<p>Installing it is easy:</p>
<pre><code>$ sudo apt install python-ipdb
$ sudo apt install python3-ipdb</code></pre>
<p>Using it is similar to PDB:</p>
<pre><code>$ ipdb my_script.py

$ python -m ipdb my_script.py

$ ipdb3 my_script.py

$ python3 -m ipdb my_script.py</code></pre>
<p><strong>Tried with:</strong> Python 3.5.1 and Ubuntu 16.04</p>
<hr />
<p><a href="rss.xml">RSS</a> - <a href="mailto:codeyarns@gmail.com">Contact</a></p>
</body>
</html>
