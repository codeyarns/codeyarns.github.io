<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns – How to write a disk image on Linux</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311697-1');
  </script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‍👨‍💻</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ❖ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header">
      <script async src="https://cse.google.com/cse.js?cx=69d6be64abfa91ed2"> </script>
      <div class="gcse-search"></div>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">How to write a disk image on Linux</h1>
<p class="date">📅 2013-Jun-21 ⬩ ✍️ Ashwin Nanjappa ⬩ 🏷️ <a href='index.html#dd'>dd</a>, <a href='index.html#disk-image'>disk image</a>, <a href='index.html#linux'>linux</a> ⬩ 📚 <a href="index.html">Archive</a></p>
</header>
<p>You may sometimes need to write a <strong>disk image</strong> to a <strong>USB thumbdrive</strong> or a <strong>SD card</strong>. This is typically done to create a bootable USB flashdrive or a bootable micro-SD card. The image file typically has the <code>.img</code> file extension, though its not necessary and does not matter. Writing the disk image can be easily done on Ubuntu or any other Linux distribution.</p>
<ul>
<li><p>Insert the USB thumbdrive or SD or microSD card to your computer. It should be detected and Ubuntu might mount it automatically. If it does not, that is okay as long as it is detected.</p></li>
<li><p>We need to find out what is the <strong>device file</strong> which represents the inserted USB thumbdrive or SD card as described <a href="2015-01-23-how-to-find-storage-devices-attached-to-computer.html">here</a>. For example, something like <code>/dev/mmcblk01p1</code>.</p></li>
<li><p>If the card or drive is mounted, we need to <strong>unmount</strong> the device. This can be done by passing the device name to the <code>umount</code> command:</p></li>
</ul>
<pre><code>$ umount /dev/mmcblk01p1</code></pre>
<ul>
<li>To write the disk image we can use the <code>dd</code> command. Provide the disk image file as the <strong>input file</strong> and the device file as the <strong>output file</strong> with a suitable <strong>block size</strong>:</li>
</ul>
<pre><code>$ sudo dd if=/blah/foo.img of=/dev/mmcblk01p1 bs=1M</code></pre>
<ul>
<li>Finally, we flush the disk buffers to ensure that the writing is finished:</li>
</ul>
<pre><code>$ sync</code></pre>
<p>That is it! The disk image is written and you can take out your USB thumbdrive or SD card to use it.</p>
<p><strong>Tried with:</strong> Ubuntu 12.04</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
© 2024 Ashwin Nanjappa
•
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
•
<a href="https://mastodon.social/@codeyarns">🐘 Mastodon</a>
•
<a href="mailto:codeyarns@gmail.com">📧 Email</a>
</div>
</div>

</body>
</html>
