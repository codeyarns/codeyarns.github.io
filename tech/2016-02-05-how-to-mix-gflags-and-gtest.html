<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns â€“ How to mix gflags and gtest</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
</head>
<body>
<a href="..">Code Yarns</a> / <a href="index.html">Tech Blog</a>
<hr />
<header>
<h1 class="title">How to mix gflags and gtest</h1>
<p class="date">2016-02-05 12:28:49+00:00</p>
</header>
<p><a href="https://github.com/gflags/gflags"><strong>gflags</strong></a> is a C++ library to process command-line flags. A program that uses both Google Test (gtest) and gflags needs to be careful because both of these libraries require to read the input arguments to the program and provide output for <code>--help</code> usage.</p>
<p>What works is to process the input arguments through gtest first and gflags only later:</p>
<pre><code>::testing::InitGoogleTest(&amp;argc, argv);
google::ParseCommandLineFlags(&amp;argc, &amp;argv, true);</code></pre>
<p>The other way around does not work.</p>
<hr />
<p><a href="rss.xml">RSS</a> - <a href="mailto:codeyarns@gmail.com">Contact</a></p>
</body>
</html>
