<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Ashwin Nanjappa" />
  <title>CUDA and Remote Desktop</title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="header">
<h1 class="title">CUDA and Remote Desktop</h1>
<h2 class="author">Ashwin Nanjappa</h2>
<h3 class="date">2011-02-03 12:04:44+00:00</h3>
</div>
<p><strong>Problem</strong></p>
<p>If you connect to a CUDA-capable Windows computer using <strong>Remote Desktop</strong> and run CUDA programs on it, they fail. That is, CUDA programs fail if they are executed under a <a href="http://en.wikipedia.org/wiki/Remote_Desktop_Protocol"><strong>Remote Desktop Protocol (RDP)</strong></a> session.</p>
<p><strong>Explanation</strong></p>
<p>In the RDP universe, the CUDA-capable computer is the <strong>RDP server</strong> and the computer connecting to it is the <strong>RDP client</strong>. When a Windows computer becomes a RDP server, its graphics driver (say, a NVIDIA driver) is replaced with a RDP graphics driver of Windows.</p>
<p>The <strong>RDP graphics driver</strong> converts display information into RDP packets and sends it to the client. This is why the display of the RDP server goes blank when it is involved in a RDP session.</p>
<p>At the RDP client, the data in these packets are interpreted as Windows <strong>Graphics Device Interface (GDI)</strong> information and used to draw the corresponding windows. Thus, RDP is somewhat similar to how X works in the Linux world. This is what gives RDP its speed, performance and other capabilities.</p>
<p>But, this is also why CUDA will not work over RDP. Windows replaces the CUDA-capable NVIDIA graphics driver with its RDP graphics driver. Thus, all CUDA programs fail.</p>
<p><strong>Solution</strong></p>
<p>Instead of RDP, pick any alternate solution that does not touch the graphics driver. That is, something that allows the graphics driver to render, and then captures and sends the desktop information as a bitmap to the other end. So, desktop sharing solutions like <a href="http://en.wikipedia.org/wiki/Vnc"><strong>VNC</strong></a> or <a href="http://www.teamviewer.com/"><strong>TeamViewer</strong></a> work fine with CUDA.</p>
<p><strong>Reference: <a href="http://msdn.microsoft.com/en-us/library/aa383015.aspx">Remote Desktop Protocol</a></strong> at MSDN</p>
</body>
</html>
