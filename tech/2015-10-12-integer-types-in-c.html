<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì Integer types in C++</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-1956250892185343" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
  <!-- Twitter button -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header" style="padding-top: 10px;">
    <iframe src="https://duckduckgo.com/search.html?site=codeyarns.com&kp=-2&kc=1&prefill=Search this website" style="width:300px;height:40px;" frameborder="0"></iframe>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">Integer types in C++</h1>
<p class="date">üìÖ 2015-Oct-12 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<p>Traditional programmers are familiar with <code>int</code>, <code>long</code> and such integer types. These are known to have different sizes on different systems.</p>
<p>However, a lot of code requires integer types to be <strong>exactly</strong> a certain size or of <strong>at least</strong> a certain size. In such situations, it is a good idea to use the <strong>fixed width integer types</strong> provided by C++ through the header file <code>cstdlib</code>.</p>
<h2 id="types-of-integers">Types of integers</h2>
<p>C++ provides three types of fixed width integer types:</p>
<ul>
<li><p>Integer of precisely the size you specify (Ex: <code>int32_t</code>)</p></li>
<li><p>Smallest integer whose size is <strong>at least</strong> the size you specify (Ex: <code>int_least32_t</code>)</p></li>
<li><p>Fastest integer whose size is <strong>at least</strong> the size you specify (Ex: <code>int_fast32_t</code>)</p></li>
</ul>
<p>List of the signed and unsigned integer types is:</p>
<pre><code>int8_t
int16_t
int32_t
int64_t
uint8_t
uint16_t
uint32_t
uint64_t

int_least8_t
int_least16_t
int_least32_t
int_least64_t
uint_least8_t
uint_least16_t
uint_least32_t
uint_least64_t

int_fast8_t
int_fast16_t
int_fast32_t
int_fast64_t
uint_fast8_t
uint_fast16_t
uint_fast32_t
uint_fast64_t</code></pre>
<h2 id="why-these-types">Why these types?</h2>
<p>When we specify that we want an integer to have exactly 32 bits, say <code>int32_t</code>, that may not be supported on certain exotic systems. Assume a computer which supports only 34-bit and 68-bit integers. That system cannot provide a 32 bit integer. Code which uses <code>int32_t</code> will not compile. This is good because the programmer who used <code>int32_t</code> might have been assuming the type to have exactly 32 bits, for example, if he is looping over the 32 bits to compute something. Such code should fail, else it would be a bug.</p>
<p>Now the use of a precise width type, like <code>int32_t</code>, provides the reason for the other two types of integers: smallest and fastest.</p>
<p>The smallest integer type, say <code>int_least32_t</code>, should be used when our code requires to store values that need at least 32 bits, but our first priority is space and not speed of computation. For example, assume that the exotic system described above does 68-bit integer addition faster than 34-bit addition. In such a case, when we use <code>int_least32_t</code>, we are asking it use the 34-bit type, foregoing speed for space.</p>
<p>The fastest integer type, say <code>int_fast32_t</code>, should be used when our code requires to store values that need at least 32 bits, but our first priority is speed and not space. For example, in the exotic system described above when we use <code>int_fast32_t</code>, that system's compiler will use the 68-bit type, providing the fastest integer addition, but by increasing space occupied by our program.</p>
<h2 id="on-x86_64-linux">On x86_64 Linux</h2>
<p>I now come back from a world of exotic computers to the common 64-bit x86_64 Intel processor system I'm using. On GCC C++ compiler in Linux, I found that the smallest types (like <code>int_least32_t</code>) were of the same size as the precise type (like <code>int32_t</code>). No surprises there cause x86_64 has integers of size 8, 16, 32 and 64.</p>
<p>You will get a surprise if you use the fast types though! Except for the 8-bit fast types, the rest are all mapped to 64-bit signed and unsigned integers for speed. So, a <code>int_fast16_t</code> is mapped to a 64-bit signed integer.</p>
<p>You can print out the sizes of all the fixed width integer types, by compiling and running a simple program, I have shared here:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&lt;cstdint&gt;</span>
<span class="pp">#include </span><span class="im">&lt;iostream&gt;</span>

<span class="dt">int</span> main()
{
    <span class="bu">std::</span>cout &lt;&lt; <span class="st">&quot;Precise&quot;</span> &lt;&lt; <span class="bu">std::</span>endl;

    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int8_t</span>  ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int16_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int32_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int64_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint8_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint16_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint32_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint64_t</span>) &lt;&lt; <span class="bu">std::</span>endl;

    <span class="bu">std::</span>cout &lt;&lt; <span class="st">&quot;Least&quot;</span> &lt;&lt; <span class="bu">std::</span>endl;

    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_least8_t</span>  ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_least16_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_least32_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_least64_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_least8_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_least16_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_least32_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_least64_t</span>) &lt;&lt; <span class="bu">std::</span>endl;

    <span class="bu">std::</span>cout &lt;&lt; <span class="st">&quot;Fast&quot;</span> &lt;&lt; <span class="bu">std::</span>endl;
    
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_fast8_t</span>  ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_fast16_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_fast32_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">int_fast64_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_fast8_t</span> ) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_fast16_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_fast32_t</span>) &lt;&lt; <span class="bu">std::</span>endl;
    <span class="bu">std::</span>cout &lt;&lt; <span class="kw">sizeof</span>(<span class="dt">uint_fast64_t</span>) &lt;&lt; <span class="bu">std::</span>endl;

    <span class="cf">return</span> <span class="dv">0</span>;
}</code></pre></div>
<p>Another method is to look at the source code. On my x86_64 Linux with GCC 5, the <code>cstdint</code> trail leads to <code>/usr/include/stdint.h</code>, where I find these definitions for the fast signed types:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">/* Fast types.  */</span>

<span class="co">/* Signed.  */</span>
<span class="kw">typedef</span> <span class="dt">signed</span> <span class="dt">char</span>     <span class="dt">int_fast8_t</span>;
<span class="pp">#if __WORDSIZE == 64</span>
<span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">int</span>        <span class="dt">int_fast16_t</span>;
<span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">int</span>        <span class="dt">int_fast32_t</span>;
<span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">int</span>        <span class="dt">int_fast64_t</span>;
<span class="pp">#else</span>
<span class="kw">typedef</span> <span class="dt">int</span>         <span class="dt">int_fast16_t</span>;
<span class="kw">typedef</span> <span class="dt">int</span>         <span class="dt">int_fast32_t</span>;
<span class="ex">__extension__</span>
<span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span>       <span class="dt">int_fast64_t</span>;
<span class="pp">#endif</span></code></pre></div>
<p><strong>Tried with:</strong> GCC 5.1, Ubuntu 14.04 and x86_64 Intel CPU</p>
</div>

<br />

<div class="contentbox">

<div class="footer"><a href="mailto:codeyarns@gmail.com" style="text-decoration: none; font-size: xx-large;">üìß</a> <a href="https://twitter.com/codeyarns" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @codeyarns</a> <a href="https://www.buymeacoffee.com/codeyarns"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" style="height: 38px !important;width: 163px !important;" ></a></div>
</div>

</body>
</html>
