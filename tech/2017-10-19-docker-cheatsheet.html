<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì Docker cheatsheet</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.github.io/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-1956250892185343" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
  <!-- Twitter button -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.github.io/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.github.io/personal/">Personal Blog</a>
  </div>
  <div class="header" style="padding-top: 10px;">
    <iframe src="https://duckduckgo.com/search.html?site=codeyarns.github.io&kp=-2&kc=1&prefill=Search this website" style="width:300px;height:40px;" frameborder="0"></iframe>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">Docker cheatsheet</h1>
<p class="date">üìÖ 2017-Oct-19 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<ul>
<li><p>To list all the images and tags from a Docker Hub repository: there does not seem to be a command to do this.</p></li>
<li><p>To pull an image <code>imagename</code>:</p></li>
</ul>
<pre><code>$ docker pull imagename

$ docker pull ubuntu
$ docker pull nvidia/cuda</code></pre>
<p>When no tag is specified, like above, docker automatically pulls the image with the tag <code>latest</code>.</p>
<p>Notice that we are not specifying the domain name or URL of any Docker registry. In such cases, Docker will look for and pull <code>imagename</code> from the default Docker registry: <code>https://hub.docker.com/</code> The image name can be a single word (<code>ubuntu</code>) or a relative path (<code>nvidia/cuda</code>). For a single word image name, its tags can be seen listed at the <code>https://hub.docker.com/_/ubuntu</code>. The image name with a path has its repositories listed at <code>https://hub.docker.com/u/nvidia</code> and the tags of a particular image at <code>https://hub.docker.com/r/nvidia/cuda</code>.</p>
<ul>
<li>To pull an image with a specific tag, for example pulling ubuntu with <code>20.04</code> tag:</li>
</ul>
<pre><code>$ docker pull ubuntu:20.04</code></pre>
<p>Note how the <code>:</code> character is used to separate the image name and the tag. In the case of Ubuntu, the list of available tags can be viewed <a href="https://hub.docker.com/_/ubuntu/?tab=tags">here</a>. Not all registries may support viewing tags like this.</p>
<ul>
<li>To pull an image from a specific registry:</li>
</ul>
<pre><code>$ docker pull &lt;registry.domain&gt;/imagename</code></pre>
<p>You might need to first authenticate to the registry domain before the pull will work:</p>
<pre><code>$ docker login &lt;registry.domain&gt;</code></pre>
<p>After a successful login, Docker will store a key provided by the registry server in your <code>~/.docker/config.json</code>. It will reuse this key for subsequent pull or push to this registry.</p>
<ul>
<li>To view Docker images available on your local computer:</li>
</ul>
<pre><code>$ docker images</code></pre>
<p>This is the same as this command:</p>
<pre><code>$ docker image ls</code></pre>
<p>What is listed are the images that you either pulled from a registry or built locally.</p>
<ul>
<li>By default, only the images that you pulled by name are displayed. To view all images on your local computer, including the unnamed intermediate images that were pulled down to compose the named images that you pulled:</li>
</ul>
<pre><code>$ docker images -a</code></pre>
<ul>
<li>To view the full repository name, tag name and ID of images, use the <code>--no-trunc</code> option:</li>
</ul>
<pre><code>$ docker images --no-trunc</code></pre>
<ul>
<li>To remove an image with the <code>latest</code> tag:</li>
</ul>
<pre><code>$ docker rmi repo1/foobar2</code></pre>
<ul>
<li>To remove an image with the <code>tag123</code> tag:</li>
</ul>
<pre><code>$ docker rmi repo1/foobar2:tag123</code></pre>
<ul>
<li>To run a Docker image as a container:</li>
</ul>
<pre><code>$ docker run image_name</code></pre>
<p>This is only useful if running the container runs a service or a daemon inside it automatically.</p>
<ul>
<li>To run a Docker image as a container and get a shell into it:</li>
</ul>
<pre><code>$ docker run -it image_name /bin/bash</code></pre>
<p>This is usually the method to use to have interactive access to a container.</p>
<ul>
<li>To view all running containers:</li>
</ul>
<pre><code>$ docker ps</code></pre>
<ul>
<li>To view all containers, not just the running ones:</li>
</ul>
<pre><code>$ docker ps -a</code></pre>
<ul>
<li>To view the full container ID, image name and command use the <code>--no-trunc</code> option:</li>
</ul>
<pre><code>$ docker ps --no-trunc</code></pre>
<ul>
<li>To stop a running Docker container provide its container name (not image name) or its container hash:</li>
</ul>
<pre><code>$ docker stop container_name</code></pre>
<ul>
<li>To remove a container, provide its hash:</li>
</ul>
<pre><code>$ docker rm 45235345</code></pre>
<ul>
<li>To remove all images not associated with a container:</li>
</ul>
<pre><code>$ docker system prune</code></pre>
<p>This is useful when your filesystem runs out of space due to docker images.</p>
<ul>
<li>To remove all unused images:</li>
</ul>
<pre><code>$ docker system prune -a</code></pre>
<p>This pretty much removes all the Docker images on your system.</p>
<p><strong>Tried with:</strong> Docker 18.09.6 and Ubuntu 18.04</p>
</div>

<br />

<div class="contentbox">

<div class="footer"><a href="mailto:codeyarns@gmail.com" style="text-decoration: none; font-size: xx-large;">üìß</a> <a href="https://twitter.com/codeyarns" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @codeyarns</a> <a href="https://www.buymeacoffee.com/codeyarns"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" style="height: 38px !important;width: 163px !important;" ></a></div>
</div>

</body>
</html>
