<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì Ubuntu: Recovering Photos from Memory Cards</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
</div>
<div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">Ubuntu: Recovering Photos from Memory Cards</h1>
<p class="date">üìÖ 2010-Apr-02 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üè∑Ô∏è <a href='index.html#photorec'>photorec</a>, <a href='index.html#testdisk'>testdisk</a>, <a href='index.html#ubuntu'>ubuntu</a> ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<figure>
<img
src="http://codeyarns.files.wordpress.com/2010/04/2010_04_02_sd_card.jpg"
alt="¬†" />
<figcaption aria-hidden="true">¬†</figcaption>
</figure>
<p>Today a friend deleted a few photos from my camera SD card by
mistake. But, recovering those deleted photos turned out to be quite
easy. Here is how to recover deleted photos from a memory card on
Ubuntu:</p>
<ol type="1">
<li><p>As soon as you discover the deletion, shutdown the device, take
out the memory card and make sure it is made <strong>read-only</strong>.
Most SD cards have a tiny latch, that when pulled down locks the card
into read-only mode. For example, the yellow colored latch on my
Kingston SD card in the photo above.</p></li>
<li><p>Put the card into the memory card reader slot on your computer.
Typically, Ubuntu will <strong>mount</strong> it automatically.</p></li>
<li><p>Figure out the <strong>device name</strong> of the mounted memory
card. This can be done by looking at the contents of
<code>/etc/mtab</code>. This text file holds the table of mounted
devices on the computer. For example, my SD card is named
<code>ASH_D40</code> and I found that its device name is
<code>/dev/mmcblk0p1</code> by finding this line in
<code>/etc/mtab</code>:</p></li>
</ol>
<pre><code>/dev/mmcblk0p1 /media/ASH_ND40 vfat rw,nosuid,nodev,uhelper=devkit,uid=1000,gid=1000,shortname=mixed,dmask=0077,utf8=1,flush 0 0</code></pre>
<ol start="4" type="1">
<li><p>Install the <strong><a
href="http://en.wikipedia.org/wiki/TestDisk">testdisk</a></strong>
package. This is available on the Ubuntu repositories, so can be
installed using Synaptic Package Manager. This package has photorec, a
tool that can be used to recover photos from memory cards.</p></li>
<li><p>Execute <strong>photorec</strong> as superuser providing it the
memory card device name:</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo photorec /dev/mmcblk0p1</span></code></pre></div>
<ol start="6" type="1">
<li>Photorec leads the user through a few prompts, each of which is a
multiple choice question. Most of them should be easy to answer, here
are some of the important ones:</li>
</ol>
<pre><code>1. **Partition table type**: For SD cards used in cameras, the choice should typically be `[Intel] Intel/PC partition`


2. **Partition**: Since most SD cards are formatted such that the entire space is a single partition, the choice could be `No partition [Whole disk]`


3. **Filesystem type**: Most SD cards are formatted as FAT16, hence the choice could be `[Other] FAT/NTFS/HFS+/ReiserFS/...`</code></pre>
<ol start="7" type="1">
<li>After it obtains all the necessary information, photorec churns
through the memory card, this may take a while. It will access the card
strictly in read-only mode, so there is no fear of it messing up the
recovery information available on the card. After it is done, the
recovered photos can be found in directories named in the format
<code>recup_dir.X</code>, where <code>X</code> is an integer.</li>
</ol>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
¬© 2026 Ashwin Nanjappa
‚Ä¢
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
‚Ä¢
<a href="https://mastodon.social/@codeyarns">üêò Mastodon</a>
‚Ä¢
<a href="https://bsky.app/profile/codeyarns.bsky.social">ü¶ã Bluesky</a>
‚Ä¢
<a href="mailto:codeyarns@gmail.com">üìß Email</a>
</div>
</div>

</body>
</html>
