<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns â€“ How to enable hibernation in Ubuntu</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.github.io/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-6045459060677327" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
</head>
<body>
<table style="width: 100%;">
    <tr>
        <td>
            <a href=".." class="header">Code Yarns &#128187;</a>
        </td>
        <td style="text-align: right;">
            <iframe src="https://duckduckgo.com/search.html?site=codeyarns.github.io&kp=-2&kc=1&prefill=Search this website" style="overflow:hidden;margin:0;padding:0;width:300px;height:40px;" frameborder="0"></iframe>
        </td>
    </tr>
</table>
<hr />
<header>
<h1 class="title">How to enable hibernation in Ubuntu</h1>
<p class="date">(First posted on: 2013-03-18 15:53:12+00:00)</p>
</header>
<p>It is truly surprising that <strong>Ubuntu</strong> ships with <strong>hibernation</strong> turned off. But, hibernation can be useful on notebooks where I would prefer to hibernate than to power off when the notebook runs completely out of battery.</p>
<h2 id="ubuntu-14.04">Ubuntu 14.04</h2>
<p>A few steps are needed to enable hibernation in Ubuntu:</p>
<ul>
<li><p>Ensure that the <a href="2013/03/18/how-to-find-the-size-of-swap-partition-in-ubuntu/">size of your swap</a> partition is equal or greater than the <a href="2013/03/18/how-to-find-the-amount-of-ram-in-ubuntu/">amount of RAM</a> in your system.</p></li>
<li><p>Open the following file with superuser privileges:</p></li>
</ul>
<pre><code>$ sudo vim /var/lib/polkit-1/localauthority/10-vendor.d/com.ubuntu.desktop.pkla</code></pre>
<ul>
<li>Find the following two sections in the file:</li>
</ul>
<pre><code>[Disable hibernate by default in upower]
Identity=unix-user:*
Action=org.freedesktop.upower.hibernate
ResultActive=no

[Disable hibernate by default in logind]
Identity=unix-user:*
Action=org.freedesktop.login1.hibernate
ResultActive=no</code></pre>
<p>Change the value assigned to <code>ResultActive</code> in both section to <code>yes</code>.</p>
<ul>
<li>Reboot Ubuntu. Now, you will find the Hibernate option when you click the Gear icon.</li>
</ul>
<p>Note: These steps do not enable the Hibernate option for when the laptop lid is closed. That option is not visible in the Power settings. If you use GNOME Tweak Tool, that option can be set. But, I found that my Thinkpad X201i would still not hibernate when the lid was closed. I still had to manually choose Hibernate from the Shutdown menu to put the laptop into hibernation.</p>
<h2 id="ubuntu-12.02">Ubuntu 12.02</h2>
<p>A few steps are needed to enable hibernation in Ubuntu:</p>
<ul>
<li><p>Ensure that the <a href="2013/03/18/how-to-find-the-size-of-swap-partition-in-ubuntu/">size of your swap</a> partition is equal or greater than the <a href="2013/03/18/how-to-find-the-amount-of-ram-in-ubuntu/">amount of RAM</a> in your system.</p></li>
<li><p>As sudo, open a new file <code>/etc/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla</code></p></li>
</ul>
<p>Add these lines and save the file</p>
<pre><code>[Re-enable hibernate by default]
Identity=unix-user:*
Action=org.freedesktop.upower.hibernate
ResultActive=yes</code></pre>
<ul>
<li>Reboot Ubuntu. Now, you will find the Hibernate option when you click the Gear icon. You will also find Hibernate as an option for your Power or Laptop lid settings.</li>
</ul>
<hr />
<p><a href="rss.xml">RSS</a> - <a href="mailto:codeyarns@gmail.com">Contact</a></p>
</body>
</html>
