<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì The case of the freezing external display</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.com/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311697-1');
  </script>
</head>

<body>

<div class="contentbox">
<div class="header">
    <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
  </div>
  <div class="header">
    <a class="header2" href="https://codeyarns.com/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.com/personal/">Personal Blog</a>
  </div>
  <div class="header">
      <script async src="https://cse.google.com/cse.js?cx=69d6be64abfa91ed2"> </script>
      <div class="gcse-search"></div>
</div>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">The case of the freezing external display</h1>
<p class="date">üìÖ 2023-Feb-26 ‚¨© ‚úçÔ∏è Ashwin Nanjappa ‚¨© üè∑Ô∏è <a href='index.html#case'>case</a> ‚¨© üìö <a href="index.html">Archive</a></p>
</header>
<h2 id="problem">Problem</h2>
<p>I was typing an email today when everything seemed to have frozen on my system. Both the external keyboard and my trackball had stopped working.</p>
<p>The pertinent details of the devices involved are:</p>
<ul>
<li><a href="2020-04-19-kensington-expert-mouse-wireless-trackball.html">Kensington Expert Mouse wireless trackball</a>: Connected over Bluetooth to my laptop.</li>
<li><a href="2022-03-22-dell-c3422we.html">Dell C3422WE display</a>: Connected over USB-C to my laptop. Acts as external display, powers my laptop and also a USB hub to which my external keyboard is connected (see below).</li>
<li><a href="2022-01-06-ikbc-cd87-bt-keyboard.html">iKBC CD87 BT keyboard</a>: Connected using a USB cable to my external display (see above).</li>
</ul>
<p>I unhooked the external display from my laptop (thus disconnecting the external keyboard), but the trackball was still not working. What really puzzled me was why the trackball, which used Bluetooth, was also freezing - even though it was not even connected to the display/USB.</p>
<p>I rebooted the Windows laptop (but did not connect the display and keyboard) and the trackball was working. Once I connected the display, the keyboard worked for a few seconds, before the entire system froze like above. These symptoms repeated on every reboot and diagnosis.</p>
<h2 id="experiments">Experiments</h2>
<p>Since multiple devices were freezing, I suspected the USB-C external display was the suspect and was at a total loss what to do.</p>
<p>However, on one of the final tries I saw an error notification in Windows that a <strong>USB device had malfunctioned</strong> - this put the suspicion on the external keyboard. I unplugged the external keyboard and hooked it directly over USB to another laptop and sure enough - <strong>it was dead</strong>. This was surprising, I had never seen a keyboard die on me before in my entire life!</p>
<p>To finally confirm, I connected a different keyboard and the frozen trackball still did not work. Everything worked only on a reboot.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Here is my guess of what had happened:</p>
<ul>
<li><p>The external keyboard was in the final throes of its death and thus crashing the USB hub in the external display and also the USB stack on Windows. This is why the external display was also frozen.</p></li>
<li><p>The flaky keyboard being a HID device was also screwing up my trackball (another HID device). Do not ask me why Windows would be so terribly designed that a USB stack error was freezing up a Bluetooth stack. This is the only connection I can make between these devices.</p></li>
</ul>
<p>I was just glad that I had found the real cause behind this problem. Replacing the dead USB keyboard with a new one fixed the issue.</p>
</div>

<br />

<div class="contentbox">

<div style="text-align: center">
¬© 2023 Ashwin Nanjappa
‚Ä¢
All writing under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
‚Ä¢
<a href="https://hachyderm.io/@codeyarns">üêò @codeyarns@hachyderm.io</a>
‚Ä¢
<a href="mailto:codeyarns@gmail.com" style="text-decoration: none; font-size: x-large;">üìß</a>
</div>
</div>

</body>
</html>
