<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns ‚Äì How to list packages by size using Aptitude</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- RSS feed -->
  <link rel="alternate" type="application/rss+xml" href="https://codeyarns.github.io/tech/rss.xml" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-6045459060677327" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
  <!-- Twitter button -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<body>

<div class="contentbox">
<table style="width: 100%;">
    <tr>
        <td style="text-align: left;">
            <a href=".." class="header">Code Yarns ‚Äçüë®‚Äçüíª</a>
        </td>
        <td style="text-align: right;">
            <div class="header2"><a class="header2" href="https://codeyarns.github.io/tech/">Tech Blog</a> ‚ùñ <a class="header2" href="https://codeyarns.github.io/personal/">Personal Blog</a></div>
            </br>
            <iframe src="https://duckduckgo.com/search.html?site=codeyarns.github.io&kp=-2&kc=1&prefill=Search this website" style="overflow:hidden;margin:0;padding:0;width:300px;height:40px;" frameborder="0"></iframe>
        </td>
    </tr>
</table>
</div>

<br />

<div class="contentbox">
<header>
<h1 class="title">How to list packages by size using Aptitude</h1>
<p class="date">üìÖ Published on: 2015-Jun-18</p>
</header>
<p>[caption id=&quot;attachment_7011&quot; align=&quot;aligncenter&quot; width=&quot;496&quot;][<img src="https://codeyarns.files.wordpress.com/2015/06/20150619_aptitude_installsize.png" alt="Biggest packages installed on my Ubuntu according to Aptitude" />](https://codeyarns.files.wordpress.com/2015/06/20150619_aptitude_installsize.png) Biggest packages installed on my Ubuntu according to Aptitude[/caption]</p>
<p>This is a query that I frequently have: how to list packages sorted by their <strong>size</strong>? I am especially interested in this about <strong>installed packages</strong>. There are other tools that can do this job, but I like to use <a href="https://en.wikipedia.org/wiki/Aptitude_(software)"><strong>Aptitude</strong></a> for this since I use it regularly anyway.</p>
<p>To list <strong>all</strong> available packages:</p>
<pre><code>$ aptitude search &quot;.*&quot;</code></pre>
<p>Aptitude understands the concept of the <strong>install size</strong> i.e., how much disk space the files of a package occupy after they are uncompressed and extracted from the package. So, sorting by this <code>installsize</code> is easy:</p>
<pre><code>$ aptitude search &quot;.*&quot; --sort installsize</code></pre>
<p>Note that this listing is in ascending order of size. So, the largest packages are listed at the end.</p>
<p>The problem with this listing is that Aptitude does not display the size, so we have no idea how big the install sizes are. To show that, we can tinker with the display format and get it to display the package name and install size:</p>
<pre><code>$ aptitude search &quot;.*&quot; --display-format &quot;%p %I&quot; --sort installsize</code></pre>
<p>Using the shorter versions of the options, this command becomes:</p>
<pre><code>$ aptitude search &quot;.*&quot; -F &quot;%p %I&quot; -O installsize</code></pre>
<p>Now, to list all <strong>installed</strong> packages:</p>
<pre><code>$ aptitude search &quot;~i&quot;</code></pre>
<p>Finally, to show the install size of only installed packages and sort by it, we just apply the options shown above:</p>
<pre><code>$ aptitude search &quot;~i&quot; --display-format &quot;%p %I&quot; --sort installsize</code></pre>
<p><strong>Reference:</strong> <a href="https://www.debian.org/doc/manuals/aptitude/">Aptitude user's manual</a> (its man page is woefully short on details of its commands)</p>
<p><strong>Tried with:</strong> Aptitude 0.6.8.2 and Ubuntu 14.04</p>
</div>

<br />

<div class="contentbox">

<div class="footer"><a href="mailto:codeyarns@gmail.com" style="text-decoration: none; font-size: xx-large;">üìß</a> <a href="https://twitter.com/codeyarns" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @codeyarns</a> <a href="https://www.buymeacoffee.com/codeyarns"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" style="height: 38px !important;width: 163px !important;" ></a></div>
</div>

</body>
</html>
