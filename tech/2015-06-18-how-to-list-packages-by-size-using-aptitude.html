<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Ashwin Nanjappa">
  <title>Code Yarns â€“ How to list packages by size using Aptitude</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../styles.css">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311697-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-143311697-1');
  </script>
  <!-- Google Site Search -->
  <script async src="https://cse.google.com/cse.js?cx=003521915278168649297:cryrlg7hahe">
  </script>
</head>
<body>
<table style="width: 100%;">
    <tr>
        <td>
            <a href="..">Code Yarns</a> / <a href="index.html">Tech Blog</a>
        </td>
        <td>
            <div class="gcse-search"></div>
        </td>
    </tr>
</table>
<hr style="margin-top: 0px;" />
<header>
<h1 class="title">How to list packages by size using Aptitude</h1>
<p class="date">2015-06-18 12:14:00+00:00</p>
</header>
<p>[caption id=&quot;attachment_7011&quot; align=&quot;aligncenter&quot; width=&quot;496&quot;][<img src="https://codeyarns.files.wordpress.com/2015/06/20150619_aptitude_installsize.png" alt="Biggest packages installed on my Ubuntu according to Aptitude" />](https://codeyarns.files.wordpress.com/2015/06/20150619_aptitude_installsize.png) Biggest packages installed on my Ubuntu according to Aptitude[/caption]</p>
<p>This is a query that I frequently have: how to list packages sorted by their <strong>size</strong>? I am especially interested in this about <strong>installed packages</strong>. There are other tools that can do this job, but I like to use <a href="https://en.wikipedia.org/wiki/Aptitude_(software)"><strong>Aptitude</strong></a> for this since I use it regularly anyway.</p>
<p>To list <strong>all</strong> available packages:</p>
<pre><code>$ aptitude search &quot;.*&quot;</code></pre>
<p>Aptitude understands the concept of the <strong>install size</strong> i.e., how much disk space the files of a package occupy after they are uncompressed and extracted from the package. So, sorting by this <code>installsize</code> is easy:</p>
<pre><code>$ aptitude search &quot;.*&quot; --sort installsize</code></pre>
<p>Note that this listing is in ascending order of size. So, the largest packages are listed at the end.</p>
<p>The problem with this listing is that Aptitude does not display the size, so we have no idea how big the install sizes are. To show that, we can tinker with the display format and get it to display the package name and install size:</p>
<pre><code>$ aptitude search &quot;.*&quot; --display-format &quot;%p %I&quot; --sort installsize</code></pre>
<p>Using the shorter versions of the options, this command becomes:</p>
<pre><code>$ aptitude search &quot;.*&quot; -F &quot;%p %I&quot; -O installsize</code></pre>
<p>Now, to list all <strong>installed</strong> packages:</p>
<pre><code>$ aptitude search &quot;~i&quot;</code></pre>
<p>Finally, to show the install size of only installed packages and sort by it, we just apply the options shown above:</p>
<pre><code>$ aptitude search &quot;~i&quot; --display-format &quot;%p %I&quot; --sort installsize</code></pre>
<p><strong>Reference:</strong> <a href="https://www.debian.org/doc/manuals/aptitude/">Aptitude user's manual</a> (its man page is woefully short on details of its commands)</p>
<p><strong>Tried with:</strong> Aptitude 0.6.8.2 and Ubuntu 14.04</p>
<hr />
<p><a href="rss.xml">RSS</a> - <a href="mailto:codeyarns@gmail.com">Contact</a></p>
</body>
</html>
